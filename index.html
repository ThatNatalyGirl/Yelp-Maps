<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="x-ua-compatible" content="ie=edge">
		<title>Yelp Search</title>
		<meta name="description" content="">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="dist/css/main.css">
		<link href="https://fonts.googleapis.com/css?family=Ubuntu" rel="stylesheet">
		<style>
			#map {
				height: 400px;
				width: 50%;
			}
		</style>
	</head>
	<body>
		<header>
			<img src="dist/img/yelpbg.jpg" alt="Yelp Logo">
			<h1>Where do you want to go today?</h1>
		</header>
		<section class="sect-1">
			<form>
			<label>Search Yelp:
				<input type="text" name="term" id="term" value="coffee"/>
			</label>	
			<label>Location: 
				<input type="text" name="location" id="location" value="atlanta, ga"/>
			</label>
			<div>	
				<br/>
			</div>
			Price Level:
			<label>
				<input type="checkbox" name="price" value="1"/> $
			</label>
			<label>
				<input type="checkbox" name="price" value="2"/> $$
			</label>
			<label>
				<input type="checkbox" name="price" value="3"/> $$$
			</label>
			<a id="search" href="#">Search</a>
		</form>
		</section>
		<section class="sect-2">
			<ul id="results"></ul>
		</section>
		<section class="sect-3">
			<div id="map"></div>
		</section>

		<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
		<script>

//I need to use .get and .post to grab my array from the yelp.js file and use the data for the map instead of this locationArray here!!!!!!!!!! I need to figure out how to get the stuffs
			var locationArray = [
				{lat: -25.363, lng: 131.044},
				{lat: -26.363, lng: 131.044},
				{lat: -27.363, lng: 131.044},
				{lat: -28.363, lng: 131.044},
				{lat: -29.363, lng: 131.044},
				{lat: -24.363, lng: 131.044}
				];
			
			console.log("googlesssss");	
			var map;
			function initMap() {
			map = new google.maps.Map(document.getElementById('map'), {
			  zoom: 2,
			  center: new google.maps.LatLng(2.8,-187.3),
			  mapTypeId: 'terrain'
			});


			// var map;
			// function initMap() {
			// 	map = new google.maps.Map(document.getElementById('map'), {
			// 		center: {lat: -20, lng: 120},
			// 		zoom: 14
			// 	});

				var infoWindow = new google.maps.InfoWindow({
					content: 'Welcome to Daegu!!!'
					//make another for loop to run through the array and output coordinates
				});

				var marker = new google.maps.Marker({
					position: {lat: -20, lng: 120},
					map: map
				});

				marker.addListener('click', function() {
					infoWindow.open(map, marker);
				})

				 createMarkers(locationArray);
			}	

			function createMarkers(locationArray) {
				var marker;
		        for (var i = 0; i < locationArray.length; i++) {
		          var coords = locationArray[i];
		          var latLng = new google.maps.LatLng(coords.lat, coords.lng);
		          console.log(coords);
		          console.log(coords.lat);
		          console.log(coords.lng);
		          
		          marker = new google.maps.Marker({
		            position: latLng,
		            map: map
		          });
		          console.log(marker);
		        }
		    }



		
		</script>
		<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDmYLb9hg543lBQyALzTU-pZnR9U5Um36g&callback=initMap"></script>	
		<script src="dist/js/main.js"></script>
		<script src="dist/js/yelp.js"></script>
	</body>
</html>
